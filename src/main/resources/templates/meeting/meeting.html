<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <link rel="stylesheet" href="/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/css/bootstrap.css" />
    <script src="/js/bootstrap.min.js"></script>
</head>

<style>
.box1{
 float:left;
}

.box2{
display:inline-block;
}
</style>

<body>
    <div class="box1">
        <button id="inviteBtn" class="btn btn-primary btn-xl">초대하기</button>
    </div>

    <div class="box2">
        <tbody>
        <tr th:each="member : ${members}">
            <td>
            <span class="portfolio-caption-heading" th:text="${member.email}">
                memberEmail
            </span>
            </td>
        </tr>
        </tbody>
    </div>

    <!-- sharing video  -->
    <section class="page-section">
        <!-- Your camera video will show up here. -->
        <div style=" display:inline-block;" class="container">
            <!--            <h3 style="margin: 5px">You</h3>-->
            <video style="width: auto; height: 20vh;" id="localVideo"
                   poster="/assets/img/user.png" autoplay muted></video>
        </div>

        <!-- Other person's camera video will show up here -->
        <div style="float:left;" class="container">
<!--            <h3 style="margin: 5px">Other Person</h3>-->
            <video style="width: auto; height: 20vh;" id="remoteVideo"
                   poster="/assets/img/user.png" autoplay></video>
        </div>

        <!-- Button to leave video conference. -->
        <div class="box">
            <button id="leaveButton" class="btn btn-primary btn-xl">Leave Video Conference</button>
        </div>
    </section>

    <!-- sharing screen   -->
    <section class="page-section">
        <!-- Your screen will show up here. -->
        <div style=" display:inline-block;" class="container">
            <!--            <h3 style="margin: 5px">Your Screen</h3>-->
            <video  style="width: 100%; height: 100%;" id="localVideo2"
                    poster="/assets/img/sharing.png" autoplay muted></video>
        </div>

        <!-- Other person's screen will show up here -->
        <div style="float:left;" class="container">
<!--            <h3 style="margin: 5px">Other Person's Screen</h3>-->
            <video style="width: 100%; height: 100%;" id="remoteVideo2"
                   poster="/assets/img/sharing.png" autoplay></video>
        </div>


        <!-- Button to leave Screen Sharing. -->
        <div class="box">
            <button id="leaveButton2" class="btn btn-primary btn-xl">Leave Screen Sharing</button>
        </div>
    </section>


    <!-- Modal-->
    <div class="modal fade" id="inviteModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                        <button type="button" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    </button>
                    <h3 class="modal-title" id="exampleModalLabel">멤버 초대하기</h3>
                </div>
                <div class="modal-body">
                    <form role="form" th:action="@{/meeting/{id} (id=${meetingId})}" method="post">
                        <label th:for="email">초대할 멤버의 아이디를 입력하세요</label>
                        <input type="text" name="inviteEmail" id="inviteEmail" class="form-control"
                               placeholder="초대할 멤버의 아이디" required="required">

                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal"
                                  >취소</button>
                            <button type="submit" class="btn btn-primary">확인</button>
                        </div>

                        <input type="hidden" th:name= "meetingId" th:value="${meetingId}"></input>
                    </form>
                </div>

            </div>
        </div>
    </div>

    <!--modal script-->
    <script>
            $('#inviteBtn').click(function(e){
                e.preventDefault();
                $('#inviteModal').modal("show");
            });
    </script>

    <!--webRtc-->
    <script src="/js/sharingviedoandscreen.js"></script>


</body>