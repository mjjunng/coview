<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <link rel="stylesheet" href="/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/css/bootstrap.css" />
<!--    <link href="css/styles.css" rel="stylesheet" />-->
    <script src="/js/bootstrap.min.js"></script>
</head>

<!--<style>-->
<!--.box1{-->
<!-- float:left;-->
<!--}-->

<!--.box2{-->
<!--display:inline-block;-->
<!--}-->
<!--</style>-->
<style>
    body {
  margin: 0;}
</style>
<body>
    <!--초대하기 버튼, video-->
    <section style="height:30vh; margin: 30px 40px 30px;">

        <div style="display:inline-block; position: relative; top: 60px;">
            <button id="inviteBtn" class="btn btn-primary">초대하기</button>
        </div>

        <!-- sharing video  -->
        <div style="float:right;">
            <!-- Your camera video will show up here. -->
            <div style="float:left;">
                <!--            <h3 style="margin: 5px">You</h3>-->
                <video style="width: auto; height: 120px;" id="localVideo"
                       poster="/assets/img/user.png" autoplay muted></video>
            </div>

            <!-- Other person's camera video will show up here -->
            <div style="display:inline-block; margin-left:10px;">
                <!--            <h3 style="margin: 5px">Other Person</h3>-->
                <video style="width: auto; height: 120px;" id="remoteVideo"
                       poster="/assets/img/user.png" autoplay></video>
            </div>

            <button id="muteBtn"><img src="/assets/img/mute.png"></button>

            <!-- Button to leave video conference. -->
            <div class="box">
                <button id="leaveButton" class="btn btn-primary">Leave Video Conference</button>
            </div>
        </div>

            <!--현재 회의 참여 멤버들-->
            <!--            <div class="box2">-->
            <!--                <tbody>-->
            <!--                <tr th:each="member : ${members}">-->
            <!--                    <td>-->
            <!--            <span class="portfolio-caption-heading" th:text="${member.email}">-->
            <!--                memberEmail-->
            <!--            </span>-->
            <!--                    </td>-->
            <!--                </tr>-->
            <!--                </tbody>-->
            <!--            </div>-->

    </section>

    <!-- sharing screen   -->
    <section class="screen" style="margin-top:40px; height:60vh;">
        <canvas id="canvas">
            <button id="drawingBtn"><img src="/assets/img/drawing.png"></button>
            <!-- Your screen will show up here. -->
            <div style="float:left; width: 50%;">
                <!--            <h3 style="margin: 5px">Your Screen</h3>-->
                <video  style="width: 100%; height: 100%;" id="localVideo2"
                        poster="/assets/img/sharing.png" autoplay muted></video>
            </div>

            <!-- Other person's screen will show up here -->
            <div style="display:inline-block; width: 50%;">
                <!--            <h3 style="margin: 5px">Other Person's Screen</h3>-->
                <video style="width: 100%; height: 100%; object-fit: inherit;" id="remoteVideo2"
                       poster="/assets/img/sharing.png" autoplay></video>
            </div>


            <!-- Button to leave Screen Sharing. -->
            <div class="box">
                <button id="leaveButton2" class="btn btn-primary">Leave Screen Sharing</button>
            </div>

            <div>
                <button id="leaveMeetingButton" class="btn btn-primary">회의 나가기</button>
            </div>
        </canvas>
    </section>


    <!-- Modal-->
    <div class="modal fade" id="inviteModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                        <button type="button" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    </button>
                    <h3 class="modal-title" id="exampleModalLabel">멤버 초대하기</h3>
                </div>
                <div class="modal-body">
                    <form role="form" th:action="@{/meeting/{id} (id=${meetingId})}" method="post">
                        <label th:for="email">초대할 멤버의 아이디를 입력하세요</label>
                        <input type="text" name="inviteEmail" id="inviteEmail" class="form-control"
                               placeholder="초대할 멤버의 아이디" required="required">

                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal"
                                  >취소</button>
                            <button type="submit" class="btn btn-primary">확인</button>
                        </div>

                        <input type="hidden" th:name= "meetingId" th:value="${meetingId}"></input>
                    </form>
                </div>

            </div>
        </div>
    </div>

    <!--modal script-->
    <script>
            $('#inviteBtn').click(function(e){
                e.preventDefault();
                $('#inviteModal').modal("show");
            });
    </script>

    <!--webRtc-->
    <script src="/js/sharingviedoandscreen.js"></script>


</body>